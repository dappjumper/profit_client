(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{309:function(t,o,e){"use strict";e.d(o,"a",(function(){return l}));var n=e(2),r=e(22),d=(e(6),e(312),e(4),e(48)),c=e(35),l={data:function(){return{bot:null,ready:!1,extras:{},errorFor:{bot:null},loading:{active:!1}}},props:["botID"],beforeMount:function(){return d.a.boot(),this.botID?(this.bot=d.a.load("bot",this.botID,0),this.bot?(this.fetchAdditional(),this.ready=!0):void this.fetchBot(this.botID)):this.errorFor.bot="No bot ID specified"},methods:{getModuleOptions:function(t){this.bot.modules=this.bot.modules||{},this.bot.modules[t.id]=this.bot.modules[t.id]||{};for(var i=0;i<t.options.length;i++)this.bot.modules[t.id][t.options[i].id]=this.getOptionValue(t,t.options[i]);return t.options},getOptionValue:function(t,option){return void 0===this.bot.modules||void 0===this.bot.modules[t.id]||void 0===this.bot.modules[t.id][option.id]?option.default:this.bot.modules[t.id][option.id]},save:function(t){d.a.save("bot",t,this.bot)},fetchBot:function(t){var o=this;this.ready=!1,c.a.bot({botID:t,method:"get"}).then((function(e){d.a.save("bot",t,e),o.bot=e,o.bot.modules||(o.bot.modules={}),o.ready=!0,o.fetchAdditional()})).catch((function(t){o.errorFor.bot=t}))},setLazy:function(t,o){d.a.save("lazy",t,o),this.extras[t]=o,this.loading[t]=!1},fetchLazy:function(t){var o=this,e=t.pop();if(!e)return!1;var n=d.a.load("lazy",e,0);if(n)return this.setLazy(e,n),this.fetchLazy(t);c.a.basic({method:"get",path:e}).then((function(t){o.setLazy(e,t)})).catch((function(t){console.log(t)})).finally((function(){o.fetchLazy(t)}))},fetchAdditional:function(){for(var t=[],o=0,e=Object.entries(this.loading);o<e.length;o++){var n=Object(r.a)(e[o],2),d=n[0];n[1]&&t.push(d)}t.length&&this.fetchLazy(t)},setModule:function(t,data){var o=this;this.loading=Object.assign({},this.loading,Object(n.a)({},"module_"+t.id,!0)),c.a.bot({botID:this.botID,path:t.id,method:"patch",data:{data:data}}).then((function(e){o.bot.modules=o.bot.modules||{};for(var n=0,d=Object.entries(e);n<d.length;n++){var c=Object(r.a)(d[n],2),l=c[0],v=c[1];o.$set(o.bot.modules[t.id],l,v)}o.save(o.botID)})).catch((function(t){console.log(t,"some error")})).finally((function(){o.loading["module_"+t.id]=!1}))},setActivation:function(){var t=this;this.loading.active=!0,c.a.bot({botID:this.botID,path:"",method:"patch",data:{data:{active:!this.bot.active}}}).then((function(o){void 0!==o.active&&(t.bot.active=o.active,t.save(t.botID))})).catch((function(t){console.log(t)})).finally((function(){t.loading.active=!1}))}}}},311:function(t,o,e){var content=e(324);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(13).default)("1374cb52",content,!0,{sourceMap:!1})},323:function(t,o,e){"use strict";var n=e(311);e.n(n).a},324:function(t,o,e){(o=e(12)(!1)).push([t.i,"a[data-v-1216555a]{color:inherit;text-decoration:none}[dense] p[data-v-1216555a]{margin-top:.5em;margin-bottom:.5rem}.v-input[data-v-1216555a]{margin-top:0}",""]),t.exports=o},326:function(t,o,e){"use strict";e.r(o);var n=e(309),r=(e(35),{name:"BotDetails",mixins:[n.a],data:function(){return{loading:{modules:!0}}}}),d=(e(323),e(26)),c=e(50),l=e.n(c),v=e(129),h=e(313),f=e(307),component=Object(d.a)(r,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[t.ready&&t.bot?e("div",[t.bot.t_info?e("v-card",{staticClass:"mb-4"},[e("v-card-title",[t._v("\n        "+t._s(t.bot.t_info.first_name)+"\n      ")]),t._v(" "),e("v-card-subtitle",[e("a",{attrs:{href:"https://t.me/"+t.bot.t_info.username,target:"_blank"}},[t._v("\n          @"+t._s(t.bot.t_info.username)+"\n        ")])]),t._v(" "),e("v-card-text",{attrs:{dense:""}},[e("p",[t._v("\n          "+t._s(t.bot.active?"This bot is active":"This bot is inactive")+".\n        ")]),t._v(" "),e("p",[t._v("\n          "+t._s(t.bot.t_info.can_join_groups?"Can":"Can not")+" be ordered to join groups.\n        ")]),t._v(" "),e("p",[t._v("\n          "+t._s(t.bot.t_info.can_read_all_group_messages?"Can read all group messages":"Can not read all group messages unless elevated to admin")+".\n        ")]),t._v(" "),e("p",[t._v("\n          "+t._s(t.bot.t_info.supports_inline_queries?"Can read inline queries":"Can not read inline queries. Talk to @botfather to resolve if required")+".\n        ")])]),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{dark:!t.bot.active&&!t.loading.active,disabled:t.loading.active,loading:t.loading.active},on:{click:function(o){return t.setActivation(!t.bot.active)}}},[t._v("\n          "+t._s(t.bot.active?"De-activate":"Activate")+"\n        ")])],1)],1):t._e(),t._v(" "),t.loading.modules?e("v-card",{attrs:{loading:"",disabled:""}},[e("v-card-title",[t._v("Modules")]),t._v(" "),e("v-card-text",[t._v("Loading...")])],1):t._e()],1):e("v-card",[t._v("\n    Loading...\n  ")]),t._v(" "),e("v-btn",{staticClass:"mt-4",attrs:{dark:"",link:"",to:"/app/bots"}},[t._v("\n    Back to bots list\n  ")])],1)}),[],!1,null,"1216555a",null),_=component.exports;l()(component,{VBtn:v.a,VCard:h.a,VCardActions:f.a,VCardSubtitle:f.b,VCardText:f.c,VCardTitle:f.d});var m={name:"BotDetailPage",layout:"app",computed:{botID:function(){return this.$route.params.bot}},components:{BotDetails:_}},D=e(333),y=Object(d.a)(m,(function(){var t=this.$createElement,o=this._self._c||t;return o("v-container",[o("BotDetails",{attrs:{botID:this.botID}})],1)}),[],!1,null,null,null);o.default=y.exports;l()(y,{VContainer:D.a})}}]);