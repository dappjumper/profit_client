(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{308:function(t,o,e){"use strict";e.d(o,"a",(function(){return r}));var n=e(2),h=e(22),c=(e(6),e(310),e(4),e(48)),d=e(35),r={data:function(){return{bot:null,ready:!1,extras:{},errorFor:{bot:null},loading:{active:!1}}},props:["botID"],mounted:function(){return c.a.boot(),this.botID?(this.bot=c.a.load("bot",this.botID,0),this.bot?(this.fetchAdditional(),this.ready=!0):void this.fetchBot(this.botID)):this.errorFor.bot="No bot ID specified"},methods:{getModuleOptions:function(t){this.bot.modules=this.bot.modules||{},this.bot.modules[t.id]=this.bot.modules[t.id]||{};for(var i=0;i<t.options.length;i++)this.bot.modules[t.id][t.options[i].id]=this.getOptionValue(t,t.options[i]);return t.options},getOptionValue:function(t,option){return void 0===this.bot.modules||void 0===this.bot.modules[t.id]||void 0===this.bot.modules[t.id][option.id]?option.default:this.bot.modules[t.id][option.id]},save:function(t){c.a.save("bot",t,this.bot)},fetchBot:function(t){var o=this;this.ready=!1,d.a.bot({botID:t,method:"get"}).then((function(e){c.a.save("bot",t,e),o.bot=e,o.bot.modules||(o.bot.modules={}),o.ready=!0,o.fetchAdditional()})).catch((function(t){o.errorFor.bot=t}))},setLazy:function(t,o){c.a.save("lazy",t,o),this.extras[t]=o,this.loading[t]=!1},fetchLazy:function(t){var o=this,e=t.pop();if(!e)return!1;var n=c.a.load("lazy",e,0);if(n)return this.setLazy(e,n),this.fetchLazy(t);d.a.basic({method:"get",path:e}).then((function(t){o.setLazy(e,t)})).catch((function(t){console.log(t)})).finally((function(){o.fetchLazy(t)}))},fetchAdditional:function(){for(var t=[],o=0,e=Object.entries(this.loading);o<e.length;o++){var n=Object(h.a)(e[o],2),c=n[0];n[1]&&t.push(c)}t.length&&this.fetchLazy(t)},setModule:function(t,data){var o=this;this.loading=Object.assign({},this.loading,Object(n.a)({},"module_"+t.id,!0)),d.a.bot({botID:this.botID,path:t.id,method:"patch",data:{data:data}}).then((function(e){o.bot.modules=o.bot.modules||{};for(var n=0,c=Object.entries(e);n<c.length;n++){var d=Object(h.a)(c[n],2),r=d[0],l=d[1];o.$set(o.bot.modules[t.id],r,l)}o.save(o.botID)})).catch((function(t){console.log(t,"some error")})).finally((function(){o.loading["module_"+t.id]=!1}))},setActivation:function(){var t=this;this.loading.active=!0,d.a.bot({botID:this.botID,path:"",method:"patch",data:{data:{active:!this.bot.active}}}).then((function(o){void 0!==o.active&&(t.bot.active=o.active,t.save(t.botID))})).catch((function(t){console.log(t)})).finally((function(){t.loading.active=!1}))}}}},326:function(t,o,e){"use strict";e.r(o);var n={name:"BotDetailPage",layout:"app",mixins:[e(308).a],computed:{botID:function(){return this.$route.params.bot}}},h=e(26),c=e(50),d=e.n(c),r=e(328),component=Object(h.a)(n,(function(){var t=this.$createElement,o=this._self._c||t;return o("v-container",[this.bot?o("pre",[this._v("    "+this._s(this.bot)+"\n  ")]):this._e()])}),[],!1,null,null,null);o.default=component.exports;d()(component,{VContainer:r.a})}}]);