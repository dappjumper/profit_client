(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(t,e,r){"use strict";r(10),r(8),r(6),r(4),r(9);var n=r(2),o=r(35),c=r(34);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"AccessForm",props:["type"],data:function(){return{attempts:0,loading:!1,valid:!0,error:!1,errorString:"",password:"",passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=4||"Password must be at least 4 characters"}],email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}]}},mounted:function(){o.a.boot({handler:this.$axios,USER_API:"http://localhost:8000/user"})},methods:d(d({},Object(c.b)("user",["set"])),{},{submit:function(){var t=this;if(o.a.handler||(o.a.handler=this.$axios),!this.$refs.form.validate())return!1;this.loading=!0,o.a.user({method:"post",data:{email:this.email,password:this.password},path:this.type}).then((function(e){if(t.attempts=0,!e.ok)throw e.error;t.set(e),t.$router.push("/app")})).catch((function(e){if(t.attempts<5)return setTimeout((function(){t.attempts++,t.submit()}),500);t.loading=!1,t.error=!0,t.errorString=e}))}})},v=r(28),f=r(50),h=r.n(f),O=r(306),y=r(129),j=r(301),_=r(305),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{rules:t.emailRules,loading:t.loading,disabled:t.loading,label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-text-field",{attrs:{rules:t.passwordRules,loading:t.loading,disabled:t.loading,label:"Password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("v-alert",{attrs:{color:"red",dismissible:"",type:"error"},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v(t._s(t.errorString))]),t._v(" "),r("v-btn",{staticClass:"mr-4",attrs:{disabled:t.loading||!t.valid,color:"success",loading:t.loading,type:"submit"}},[t._v("\n    "+t._s(t.type)+"\n  ")]),t._v(" "),r("v-btn",{attrs:{color:"gray"},on:{click:function(e){return t.$router.push("/")}}},[t._v("\n    Home\n  ")])],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VAlert:O.a,VBtn:y.a,VForm:j.a,VTextField:_.a})},177:function(t,e,r){"use strict";var n=r(35),o=r(48),c=(r(10),r(8),r(6),r(4),r(9),r(2)),l=r(34);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={data:function(){return m(m({},Object(l.c)("user",["user"])),{},{ready:!1})},methods:m(m({},Object(l.b)("user",["set"])),{},{boot:function(){if(o.a.metadata||o.a.boot(),n.a.token||n.a.boot({handler:this.$axios,token:o.a.load("user","token",43800)}),!n.a.token)return this.$router.push("/login");this.fetchUser()},fetchUser:function(){var t=this;this.ready=!1,n.a.user({method:"get",path:"me"}).then((function(e){t.set({user:e,token:n.a.token}),t.ready=!0})).catch((function(e){t.$router.push("/login")}))}})},f=r(137);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var O={name:"SideBar",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.c)("user",["user"]))},y=r(28),j=r(50),_=r.n(j),w=r(127),P=r(128),k=r(86),x=r(47),S=r(72),D=r(304),component=Object(y.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{app:"",permanent:""}},[n("v-list",{staticClass:"pt-0"},[n("v-list-item",{staticClass:"px-4 py-4",staticStyle:{"text-align":"left"},attrs:{to:"/"}},[n("img",{staticStyle:{width:"auto","max-height":"40px",display:"inline-block"},attrs:{src:r(251)}})]),t._v(" "),n("v-list-item",{attrs:{"exact-active-class":"none",link:"",to:"/app/profile"}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[t._v("\n          "+t._s(t.user.email)+"\n        ")]),t._v(" "),n("v-list-item-subtitle",[t._v(t._s(t.user.id))])],1)],1),t._v(" "),n("v-list-item",{attrs:{exact:"",link:"",to:"/app",active:"false"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-view-dashboard")])],1),t._v(" "),n("v-list-item-title",[t._v("Dashboard")])],1),t._v(" "),n("v-list-item",{attrs:{link:"",to:"/app/bots"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-robot")])],1),t._v(" "),n("v-list-item-title",[t._v("Bots")])],1),t._v(" "),n("v-list-item",{attrs:{link:"",to:"/app/communities"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account-multiple")])],1),t._v(" "),n("v-list-item-title",[t._v("Communities")])],1),t._v(" "),n("v-list-item",{attrs:{link:"",to:"/app/profile"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account")])],1),t._v(" "),n("v-list-item-title",[t._v("Profile")])],1)],1)],1)}),[],!1,null,null,null),E=component.exports;_()(component,{VIcon:w.a,VList:P.a,VListItem:k.a,VListItemContent:x.a,VListItemIcon:S.a,VListItemSubtitle:x.b,VListItemTitle:x.c,VNavigationDrawer:D.a});var I=r(45),V={name:"Dashboard",mixins:[v],components:{AccessForm:f.a,SideBar:E,Error:I.a},mounted:function(){this.boot()}},$=r(302),A=r(303),C=Object(y.a)(V,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{staticStyle:{background:"rgb(240,240,240)"},attrs:{id:"inspire"}},[this.ready?e("div",[e("SideBar"),this._v(" "),e("v-main",[e("nuxt",{staticClass:"px-8 py-4"})],1)],1):e("div",[this._v("\n    Loading...\n  ")])])}),[],!1,null,null,null);e.a=C.exports;_()(C,{VApp:$.a,VMain:A.a})},178:function(t,e,r){"use strict";var n=r(28),o=r(50),c=r.n(o),l=r(302),d=r(303),component=Object(n.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"landing"}},[e("v-main",[e("nuxt")],1)],1)}),[],!1,null,null,null);e.a=component.exports;c()(component,{VApp:l.a,VMain:d.a})},186:function(t,e,r){t.exports=r(187)},251:function(t,e,r){t.exports=r.p+"img/logo.681c0b2.svg"},276:function(t,e,r){"use strict";r.r(e);var n=r(48);e.default={set:function(t,e){n.a.metadata||n.a.boot(),t.user=JSON.parse(JSON.stringify(e.user)),t.token=e.token,n.a.save("user","token",e.token)}}},277:function(t,e,r){"use strict";r.r(e),e.default=function(){return{user:{},token:null}}},35:function(t,e,r){"use strict";r(10),r(8),r(6),r(9);var n=r(2);r(4);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var base=function(path){return"localhost"===window.location.hostname?"http://localhost:8000"+path:"https://profit-server.hostman.site"+path},c={app:null,token:null,handler:null,server:{},headers:function(){return c.token?{headers:{Authorization:"Bearer: ".concat(c.token)}}:null},boot:function(t){var e=t.handler,r=t.token;t.USER_API,t.BOT_API,t.TELEGRAM_API;c.handler=e,c.token=r,c.server={user:base("/user"),bot:base("/bot"),telegram:"https://api.telegram.org/bot"}}};c.computed={bot:function(t,path){return"".concat(base("/bot")).concat(t?"/".concat(t):"").concat(path?"/".concat(path):"")},telegram:function(t,path){return"".concat(c.server.telegram).concat(t).concat(path?"/".concat(path):"")},user:function(path){return"".concat(base("/user")).concat(path?"/".concat(path):"")}},c.call=function(t){var e=t.url,r=t.method,data=t.data;return new Promise((function(t,l){c.handler(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({method:r,data:data,url:e},c.headers())).then((function(e){return e.data?e.data.ok?void t(e.data.data||e.data):l(e.data.error):l("No data returned")})).catch((function(t){l("Network error")}))}))},c.bot=function(t){var e=t.botID,r=t.method,data=t.data,path=t.path;return c.call({url:c.computed.bot(e,path),method:r,data:data})},c.bot=function(t){var e=t.botID,r=t.method,data=t.data,path=t.path;return c.call({url:c.computed.bot(e,path),method:r,data:data})},c.basic=function(t){var e=t.method,data=t.data,path=t.path;return c.call({url:base("/"+path),method:e,data:data})},c.user=function(t){var e=t.method,data=t.data,path=t.path;return c.call({url:c.computed.user(path),method:e,data:data})},e.a=c},45:function(t,e,r){"use strict";var n={props:["error","message"],layout:"landing"},o=r(28),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[404===this.error.statusCode?e("h1",[this._v("Page not found")]):e("h1",[this._v(this._s(this.message||"An error occurred"))]),this._v(" "),e("nuxt-link",{attrs:{to:"/"}},[this._v("Phone home")])],1)}),[],!1,null,null,null);e.a=component.exports},48:function(t,e,r){"use strict";r(6),r(4),r(9);var n=r(15),o={index:"_cache_metadata",defaults:{expiryInMinutes:30},boot:function(){if(o.metadata)return!1;var t=localStorage.getItem(o.index);o.metadata="object"!==Object(n.a)(t)?JSON.parse(t):new Object},load:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.defaults.expiryInMinutes,n=o.metadata[t];if(!n)return!1;var c=n[e];return!!c&&(!(((new Date).getTime()-c.timestamp)/1e3/60>r)&&JSON.parse(localStorage.getItem(c.index)))},save:function(t,e,r){o.metadata[t]=o.metadata[t]||new Object;var n={timestamp:(new Date).getTime(),index:"cache_".concat(t,"_").concat(e)};o.metadata[t][e]=n,localStorage.setItem(n.index,JSON.stringify(r)),localStorage.setItem(o.index,JSON.stringify(o.metadata))},unload:function(t,e){var r=o.metadata[t]||{delete:!0};if(1===Object.keys(r).length)return delete o.metadata[t];r[e]&&delete r[e]}};e.a=o}},[[186,9,1,10]]]);